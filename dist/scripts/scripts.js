"use strict";function jsonDataArray(r){for(var n=r[0],t=[],e=1,o=r.length;o>e;e++){for(var a=r[e],u={},l=0;l<a.length;l++)u[n[l]]=a[l];t.push(u)}return t}function CSVToArray(r,n){n=n||",";for(var t=new RegExp("(\\"+n+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+n+"\\r\\n]*))","gi"),e=[[]],o=null;o=t.exec(r);){var a=o[1];if(a.length&&a!=n&&e.push([]),o[2])var u=o[2].replace(new RegExp('""',"g"),'"');else var u=o[3];e[e.length-1].push(u)}return jsonDataArray(e)}angular.module("norluxAngularApp",["ngAnimate","ngCookies","angular.filter","ngResource","ngRoute","ngSanitize","ngTouch","btford.markdown","ui.bootstrap"]).config(["$routeProvider","$locationProvider",function(r,n){r.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}),n.html5Mode(!0)}]),angular.module("norluxAngularApp").controller("MainCtrl",["$scope",function(r){r.search="",(new WOW).init()}]),angular.module("norluxAngularApp").controller("CarouselCtrl",["$scope","$http",function(r,n){n.get("markdown/main_carousel_images.md").then(function(n){var t=JSON.stringify(n.data).replace(/\\n/g,",").replace(/"/g,"").split(",");r.mainCarouselImages=Object.values(t.map(function(r,n){return{image:r}})),r.mainCarouselImages.pop()})}]),angular.module("norluxAngularApp").controller("CaseStudyCtrl",["$scope","$http","$modal",function(r,n,t){n.get("markdown/case_study_images.md").then(function(n){var t=JSON.stringify(n.data).replace(/\\n/g,",").replace(/"/g,"").split(",");r.caseStudiesImages=Object.values(t.map(function(r,n){return{image:r}})),r.caseStudiesImages.pop(),r.limit=16,r.loadMore=function(){r.limit=r.limit+16}}),r.caseStudiesFiles=function(r,n){if(n)return"images/case_studies/"+r+".png"}}]),angular.module("norluxAngularApp").controller("ProductCtrl",["$scope","Products","$modal",function(r,n,t){n.then(function(n){r.categories=[],r.products=n,r.openProduct=function(n){r.products[n].active=!0,r.modalInstance=t.open({templateUrl:"views/view-product-modal.html",scope:r,windowClass:"productModal"}),r.modalInstance.opened.then(function(){var r,n=function(){r=document.getElementsByClassName("productModal")[0],r&&(clearInterval(t),$(r).find(".loader").hide(),$(r).find(".carousel-inner").fadeIn(),$(r).find(".carousel-control").fadeIn())};if(r=document.getElementsByClassName("productModal")[0],!r)var t=setInterval(n,2e3)})};for(var e in r.products)r.products[e].hasOwnProperty("category")&&r.categories.indexOf(r.products[e].category)<0&&r.categories.push(r.products[e].category);r.closeProduct=function(){for(var n in r.products)r.products[n].hasOwnProperty("active")&&(r.products[n].active=!1);r.modalInstance.close()}}),r.productFilter="LED Ceiling",r.filterCategory=function(n){r.productFilter!=n&&($(".products-container .thumbnail").hide(),r.productFilter=n)}}]),angular.module("norluxAngularApp").controller("StoreCtrl",["$scope","Stores","$filter",function(r,n,t){n.then(function(n){var t=[];r.stores=n,r.storesToFilter=function(){return t=[],r.stores},r.filterStores=function(r){var n=t.indexOf(r.country)==-1;return n&&t.push(r.country),n}}),r.ordering=function(r){return t("min")(t("map")(r,"country"))}}]),angular.module("norluxAngularApp").directive("scrollOnClick",function(){return{restrict:"A",link:function(r,n,t){var e=t.href;n.on("click",function(){var r;r=e?$(e):n,$("body, html").animate({scrollTop:r.offset().top-77},"slow"),$("#menuModal").modal("toggle"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()})}}}),angular.module("norluxAngularApp").factory("Products",["$http",function(r){var n="csv/products.csv",t=r.get(n).then(function(r){return CSVToArray(r.data)});return t}]),angular.module("norluxAngularApp").factory("Stores",["$http",function(r){var n="csv/stores.csv",t=r.get(n).then(function(r){return CSVToArray(r.data)});return t}]),angular.module("norluxAngularApp").filter("unique",function(){return function(r,n){var t=[],e=[];return angular.forEach(r,function(r){var o=r[n];e.indexOf(o)===-1&&(e.push(o),t.push(r))}),t}}),angular.module("norluxAngularApp").filter("trustAsHtml",["$sce",function(r){return function(n){return r.trustAsHtml(n)}}]);