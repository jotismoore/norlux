"use strict";function jsonDataArray(t){for(var n=t[0],r=[],e=1,o=t.length;o>e;e++){for(var a=t[e],u={},l=0;l<a.length;l++)u[n[l]]=a[l];r.push(u)}return r}function CSVToArray(t,n){n=n||",";for(var r=new RegExp("(\\"+n+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+n+"\\r\\n]*))","gi"),e=[[]],o=null;o=r.exec(t);){var a=o[1];if(a.length&&a!=n&&e.push([]),o[2])var u=o[2].replace(new RegExp('""',"g"),'"');else var u=o[3];e[e.length-1].push(u)}return jsonDataArray(e)}angular.module("norluxAngularApp",["ngAnimate","ngCookies","angular.filter","ngResource","ngRoute","ngSanitize","ngTouch","btford.markdown","ui.bootstrap"]).config(["$routeProvider","$locationProvider",function(t,n){t.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}),n.html5Mode(!0)}]),angular.module("norluxAngularApp").controller("MainCtrl",["$scope",function(t){t.$on("$locationChangeStart",function(t){t.preventDefault()}),t.search="",(new WOW).init()}]),angular.module("norluxAngularApp").controller("CarouselCtrl",["$scope","$http",function(t,n){t.$on("$locationChangeStart",function(t){t.preventDefault()}),n.get("markdown/main_carousel_images.md").then(function(n){var r=JSON.stringify(n.data).replace(/\\n/g,",").replace(/"/g,"").split(",");t.mainCarouselImages=r.map(function(t,n){return{image:t}}),t.mainCarouselImages.pop()})}]),angular.module("norluxAngularApp").controller("CaseStudyCtrl",["$scope","$http","$modal",function(t,n,r){t.$on("$locationChangeStart",function(t){t.preventDefault()}),n.get("markdown/case_study_images.md").then(function(n){var r=JSON.stringify(n.data).replace(/\\n/g,",").replace(/"/g,"").split(",");t.caseStudiesImages=r.map(function(t,n){return{image:t}}),t.caseStudiesImages.pop(),t.limit=16,t.loadMore=function(){t.limit=t.limit+16,t.limit>=t.caseStudiesImages.length&&$(".case_study_button").hide()}}),t.caseStudiesFiles=function(t,n){if(n)return"images/case_studies/"+t+".png"}}]),angular.module("norluxAngularApp").controller("ProductCtrl",["$scope","Products","$modal",function(t,n,r){t.$on("$locationChangeStart",function(t){t.preventDefault()}),n.then(function(n){t.categories=[],t.products=n,t.openProduct=function(n){t.products[n].active=!0,t.modalInstance=r.open({templateUrl:"views/view-product-modal.html",scope:t,windowClass:"productModal"}),t.modalInstance.opened.then(function(){var t,n=function(){t=document.getElementsByClassName("productModal")[0],t&&(clearInterval(r),$(t).find(".loader").hide(),$(t).find(".carousel-inner").fadeIn(),$(t).find(".carousel-control").fadeIn())};if(t=document.getElementsByClassName("productModal")[0],!t)var r=setInterval(n,2e3)})};for(var e in t.products)t.products[e].hasOwnProperty("category")&&t.categories.indexOf(t.products[e].category)<0&&t.categories.push(t.products[e].category);t.closeProduct=function(){for(var n in t.products)t.products[n].hasOwnProperty("active")&&(t.products[n].active=!1);t.modalInstance.close()}}),t.productFilter="LED Ceiling Mounted",t.filterCategory=function(n){t.productFilter!=n&&($(".products-container .thumbnail").hide(),t.productFilter=n)}}]),angular.module("norluxAngularApp").controller("StoreCtrl",["$scope","Stores","$filter",function(t,n,r){t.$on("$locationChangeStart",function(t){t.preventDefault()}),n.then(function(n){var r=[];t.stores=n,t.storesToFilter=function(){return r=[],t.stores},t.filterStores=function(t){var n=r.indexOf(t.country)==-1;return n&&r.push(t.country),n}}),t.ordering=function(t){return r("min")(r("map")(t,"country"))}}]),angular.module("norluxAngularApp").directive("scrollOnClick",["$timeout",function(t){return{restrict:"A",link:function(n,r,e){var o=e.href;r.on("click",function(n){n.preventDefault();var e,a=$(document).scrollTop();e=o?$(o):r,a!==e.offset().top-77&&t(function(){$("body, html").animate({scrollTop:e.offset().top-77},"slow")},1),$("#menuModal").modal("hide")})}}}]),angular.module("norluxAngularApp").factory("Products",["$http",function(t){var n="csv/products.csv",r=t.get(n).then(function(t){return CSVToArray(t.data)});return r}]),angular.module("norluxAngularApp").factory("Stores",["$http",function(t){var n="csv/stores.csv",r=t.get(n).then(function(t){return CSVToArray(t.data)});return r}]),angular.module("norluxAngularApp").filter("trustAsHtml",["$sce",function(t){return function(n){return t.trustAsHtml(n)}}]);